<div class="w-75 m-auto py-4">
    <h3 class="my-4">Register Now:</h3>
    <div *ngIf="errMsg" class="alert alert-danger">
        {{errMsg}}
    </div>
    <form (ngSubmit)="handleRegister(registerForm)" [formGroup]="registerForm">

        <label for="name" class="form-label my-2">Name:</label>
        <input type="text" id="name" class="form-control" formControlName="name">
        <ul class=" alert alert-danger" *ngIf="registerForm.get('name')?.errors && registerForm.get('name')?.touched">
            <li class="mx-3" *ngIf="registerForm.get('name')?.getError('required')">name is required</li>
            <li class="mx-3" *ngIf="registerForm.get('name')?.getError('minlength')">minLength is 3</li>
            <li class="mx-3" *ngIf="registerForm.get('name')?.getError('maxlength')">maxLength is 10</li>
        </ul>

        <label for="email" class="form-label my-2">Email:</label>
        <input type="email" id="email" class="form-control" formControlName="email">
        <ul class=" alert alert-danger" *ngIf="registerForm.get('email')?.errors && registerForm.get('email')?.touched">
            <li class="mx-3" *ngIf="registerForm.get('email')?.getError('required')">email is required</li>
            <li class="mx-3" *ngIf="registerForm.get('email')?.getError('email')">enter a valid email</li>
        </ul>
    
        <label for="password" class="form-label my-2">Password:</label>
        <!-- <input type="password" id="password" class="form-control" formControlName="password"> -->
        <div class="showPassword">
            <input [type]="showPassword == true?'text':'password'" id="password" class="form-control"
                formControlName="password">
            <i *ngIf="!showPassword" (click)="showPassword = true" class="fas fa-eye main-color cursor-pointer"></i>
            <i *ngIf="showPassword" (click)="showPassword = false" class="fas fa-eye-slash main-color cursor-pointer"></i>
        </div>
        <ul class=" alert alert-danger" *ngIf="registerForm.get('password')?.errors && registerForm.get('password')?.touched">
            <li class="mx-3" *ngIf="registerForm.get('password')?.getError('required')">password is required</li>
            <li class="mx-3" *ngIf="registerForm.get('password')?.getError('pattern')">first letter must be upper and minlength is 11 char</li>
        </ul>

        <label for="rePassword" class="form-label my-2">rePassword:</label>
        <!-- <input type="password" id="rePassword" class="form-control" formControlName="rePassword"> -->
        <div class="showPassword">
            <input [type]="showrePassword == true?'text':'password'" id="rePassword" class="form-control"
                formControlName="rePassword">
            <i *ngIf="!showrePassword" (click)="showrePassword = true" class="fas fa-eye main-color cursor-pointer"></i>
            <i *ngIf="showrePassword" (click)="showrePassword = false" class="fas fa-eye-slash main-color cursor-pointer"></i>
        </div>
        <ul class=" alert alert-danger" *ngIf="registerForm.get('rePassword')?.errors && registerForm.get('rePassword')?.touched">
            <li class="mx-3" *ngIf="registerForm.get('rePassword')?.getError('required')">password is required</li>
            <li class="mx-3" *ngIf="registerForm.get('rePassword')?.getError('rePasswordMatch')">password and rePassword doesnt matched</li>
            <li class="mx-3" *ngIf="registerForm.get('rePassword')?.getError('pattern')">first letter must be upper and minlength is 11 char</li>
        </ul>

        <label for="phone" class="form-label my-2">Phone:</label>
        <input type="tel" id="phone" class="form-control" formControlName="phone">
        <ul class=" alert alert-danger" *ngIf="registerForm.get('phone')?.errors && registerForm.get('phone')?.touched">
            <li class="mx-3" *ngIf="registerForm.get('phone')?.getError('required')">phone is required</li>
            <li class="mx-3" *ngIf="registerForm.get('phone')?.getError('pattern')">enter a valid egyptian number</li>
        </ul>

        <button [disabled]="registerForm.invalid" type="submit" class="btn bg-main d-block ms-auto my-3 text-light">
            <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i>
            <span *ngIf="!isLoading">Register</span>
        </button>
    </form>
</div>